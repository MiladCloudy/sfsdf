function reloadData(b){b=b||1;var e=$("#sortType").val();var c=$("#keyword").val();var a=$("#viewType").val();var d=$("#filter").val();$.ajax({url:"/product/search/"+b,method:"POST",dataType:"JSON",data:{sortType:e,keyword:c,viewType:a,filter:d}}).done(function(f){$("#productsGrid").empty();$("#productsLinear").empty();$("#productsGrid").append(f.grid);$("#productsLinear").append(f.linear);if(a=="linear"){$("#productsLinear").show();$("#productsGrid").hide()}else{$("#productsLinear").hide();$("#productsGrid").show()}})}function addOrder(a){$.ajax({url:"/product/addToCart/"+a,method:"POST",dataType:"JSON"}).done(function(b){$("#cart-items").text(b.cartItemsCount);$("#cartPerviewHolder").html(b.cartPerview)});refreshCartPerview()}function removeOrder(a){$.ajax({url:"/product/removeFromCart/"+a,method:"POST",dataType:"JSON"}).done(function(b){$("#cart-items").text(b.cartItemsCount);$("#cartPerviewHolder").html(b.cartPerview)});refreshCartPerview()}$(function(){$("#sortType").on("change",function(){reloadData()});$("#displayAsList").on("click",function(){$("#viewType").val("linear");reloadData()});$("#displayAsGrid").on("click",function(){$("#viewType").val("grid");reloadData()});$("#keyword").on("keyup",function(){reloadData()});reloadData()});